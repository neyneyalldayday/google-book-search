{"ast":null,"code":"import _defineProperty from\"C:\\\\Users\\\\drfra\\\\Documents\\\\google-book-search\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"C:\\\\Users\\\\drfra\\\\Documents\\\\google-book-search\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\drfra\\\\Documents\\\\google-book-search\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import API from\"../../utils/API\";import{Input,TextArea,FormBtn}from\"../../components/form\";function Search(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];var _useState3=useState({title:\"\",author:\"\",synopsis:\"\"}),_useState4=_slicedToArray(_useState3,2),formObject=_useState4[0],setFormObject=_useState4[1];useEffect(function(){loadBooks();},[]);function loadBooks(){API.getBooks().then(function(res){return setBooks(res.data);}).catch(function(err){return console.log(err);});};function handleInputChange(event){var _event$target=event.target,name=_event$target.name,value=_event$target.value;setFormObject(_objectSpread(_objectSpread({},formObject),{},_defineProperty({},name,value)));};function handleFormSubmit(event){event.preventDefault();if(formObject.title&&formObject.author){API.searchBook({title:formObject.title,author:formObject.author,synopsis:formObject.synopsis}).then(function(){return setFormObject({title:\"\",author:\"\",synopsis:\"\"});}).then(function(){return loadBooks();}).catch(function(err){return console.log(err);});}if(formObject.title&&formObject.author){API.saveBook({title:formObject.title,author:formObject.author,synopsis:formObject.synopsis}).then(function(){return setFormObject({title:\"\",author:\"\",synopsis:\"\"});}).then(function(){return loadBooks();}).catch(function(err){return console.log(err);});}}return/*#__PURE__*/React.createElement(\"div\",{class:\"container is-max-desktop\"},/*#__PURE__*/React.createElement(\"div\",{class:\"notification is-primary\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"title is-1\"},\"search for Books\"),/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(Input,{onChange:handleInputChange,name:\"title\",placeholder:\"Title (required)\",value:formObject.title}),/*#__PURE__*/React.createElement(Input,{onChange:handleInputChange,name:\"author\",placeholder:\"Author (required)\",value:formObject.author}),/*#__PURE__*/React.createElement(TextArea,{onChange:handleInputChange,name:\"synopsis\",placeholder:\"Synopsis (Optional)\",value:formObject.synopsis}),/*#__PURE__*/React.createElement(FormBtn,{disabled:!(formObject.author&&formObject.title),onClick:handleFormSubmit},\"Submit Book\"))));}export default Search;","map":{"version":3,"sources":["C:/Users/drfra/Documents/google-book-search/client/src/pages/search/index.js"],"names":["React","useEffect","useState","API","Input","TextArea","FormBtn","Search","books","setBooks","title","author","synopsis","formObject","setFormObject","loadBooks","getBooks","then","res","data","catch","err","console","log","handleInputChange","event","target","name","value","handleFormSubmit","preventDefault","searchBook","saveBook"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport API from \"../../utils/API\";\r\nimport { Input, TextArea, FormBtn } from \"../../components/form\";\r\nfunction Search() {\r\n  const [ books, setBooks] = useState([])\r\n  const [formObject, setFormObject] = useState({\r\n    title:\"\",\r\n    author:\"\",\r\n    synopsis: \"\"\r\n  })\r\n\r\n\r\n  useEffect(() => {\r\n    loadBooks()\r\n  }, [])\r\n\r\n  function loadBooks() {\r\n    API.getBooks()\r\n      .then(res => \r\n        setBooks(res.data)\r\n      )\r\n      .catch(err => console.log(err));\r\n  };\r\n\r\n  function handleInputChange(event) {\r\n    const { name, value } = event.target;\r\n    setFormObject({...formObject, [name]: value})\r\n  };\r\n\r\n \r\n\r\n  function handleFormSubmit(event) {\r\n    event.preventDefault();\r\n    \r\n\r\n\r\n    if (formObject.title && formObject.author) {\r\n      API.searchBook({\r\n        title: formObject.title,\r\n        author: formObject.author,\r\n        synopsis: formObject.synopsis\r\n      })\r\n      .then(() =>  setFormObject({\r\n        title: \"\",\r\n        author: \"\",\r\n        synopsis: \"\"\r\n      }))\r\n      .then(() => loadBooks())\r\n      .catch(err => console.log(err));\r\n    }\r\n    if (formObject.title && formObject.author) {\r\n      API.saveBook({\r\n        title: formObject.title,\r\n        author: formObject.author,\r\n        synopsis: formObject.synopsis\r\n      })\r\n      .then(() =>  setFormObject({\r\n        title: \"\",\r\n        author: \"\",\r\n        synopsis: \"\"\r\n      }))\r\n      .then(() => loadBooks())\r\n      .catch(err => console.log(err));\r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  return(\r\n    <div class=\"container is-max-desktop\">\r\n  <div class=\"notification is-primary\">\r\n  <h1 className=\"title is-1\">search for Books</h1>\r\n  <form>\r\n              <Input\r\n                onChange={handleInputChange}\r\n                name=\"title\"\r\n                placeholder=\"Title (required)\"\r\n                value={formObject.title}\r\n              />\r\n              <Input\r\n                onChange={handleInputChange}\r\n                name=\"author\"\r\n                placeholder=\"Author (required)\"\r\n                value={formObject.author}\r\n              />\r\n              <TextArea\r\n                onChange={handleInputChange}\r\n                name=\"synopsis\"\r\n                placeholder=\"Synopsis (Optional)\"\r\n                value={formObject.synopsis}\r\n\r\n              />\r\n              <FormBtn\r\n                disabled={!(formObject.author && formObject.title)}\r\n                onClick={handleFormSubmit}>\r\n                Submit Book\r\n              </FormBtn>\r\n            </form>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n  )\r\n\r\n\r\n \r\n\r\n}\r\n\r\n\r\n\r\nexport default Search;"]},"metadata":{},"sourceType":"module"}